<!DOCTYPE html>
<html lang="zh-hans">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>注册</title>
    <link href="https://cdn.bootcss.com/bootstrap/4.1.1/css/bootstrap.css" rel="stylesheet">
</head>
<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <a class="navbar-brand" href="{% url 'myauth:home' %}">姜戈留言板</a>
      <button onclick="showHide()" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="{% url 'myauth:home' %}">主页<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="{% url 'myauth:log_in' %}">登录</a>
          </li>
          <li class="nav-item active">
            <a class="nav-link disabled" href="{% url 'myauth:register' %}">注册</a>
          </li>
            <li class="nav-item">
            <a class="nav-link disabled" href="{% url 'myauth:intro' %}">关于本站</a>
          </li>
        </ul>
      </div>
    </nav>

    <div style="max-width: 600px" class="container">
        <h2>注册</h2>
        <form action="" method="POST">
            {% csrf_token %}
            <div class="input-group mt-5">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">*用户名</span>
                 </div>
                 <input type="text" class="form-control" placeholder="请输入您的用户名" name="username" aria-describedby="basic-addon1" autofocus required id="id_username">
            </div>
            <div class="alert alert-success">
                <span class="helptext">必填。150个字符或者更少。包含字母，数字和仅有的@/./+/-/_符号。</span>
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.username }}</div>

            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">*密&nbsp;&nbsp;&nbsp;码</span>
                 </div>
                 <input class="form-control" placeholder="请输入您的密码" type="password" name="password1" required id="id_password1">
            </div>
            <div class="alert alert-success">
                <span class="helptext">
                    <ul>
                        <li>你的密码不能与其他个人信息太相似。</li>
                        <li>你的密码必须包含至少 8 个字符。</li>
                        <li>你的密码不能是大家都爱用的常见密码。</li>
                        <li>你的密码不能全部为数字。</li>
                    </ul>
                </span>
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.password1 }}</div>

            <div class="input-group">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">*确认密码</span>
                 </div>
                 <input class="form-control" type="password" name="password2" required id="id_password2">
            </div>
            <div class="alert alert-success">
                <span class="helptext">为了校验，请输入与上面相同的密码。</span>
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.password2 }}</div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">*电话号码</span>
                 </div>
                 <input value="{{ user.normal_user_form.phonenumber }}" class="form-control" type="text" name="phonenumber" maxlength="12" id="id_phonenumber">
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.phonenumber }}</div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">*昵&nbsp;&nbsp;&nbsp;称</span>
                 </div>
                 <input  class="form-control" type="text" name="nickname" maxlength="50" id="id_nickname">
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.nickname }}</div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">生&nbsp;&nbsp;&nbsp;日</span>
                 </div>
                 <input class="form-control" type="date" name="birthday" id="id_birthday">
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.birthday }}</div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                    <span class="input-group-text" id="basic-addon1">电子邮件地址</span>
                 </div>
                 <input class="form-control" type="email" name="email" maxlength="254" id="id_email">
            </div>
            <div class="alert alert-danger">{{ reg_form.errors.birthday }}</div>


            <button class="btn btn-secondary btn-block" type="submit">注册</button>
        </form>


    </div>


</body>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.js"></script>
<script type="text/javascript">
    $(".alert:empty").hide()
    var hasShow = false;
    function showHide() {
        console.log("1");
        if (hasShow) {
            $('#navbarNav').hide();
            hasShow = false;
        }
        else{
            $('#navbarNav').show();
            hasShow = true;
        }
    }
</script>
</html>
